{% extends 'base.html' %}

{% block content %}
<h2>My Registrations</h2>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Event</th>
      <th>Date</th>
      <th>Venue</th>
      <th>Tickets</th>
      <th>Total Price</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for reg in request.user.registration_set.all %}
      <tr>
        <td>{{ reg.event.title }}</td>
        <td>{{ reg.event.date_time }}</td>
        <td>{{ reg.event.venue }}</td>
        <td>{{ reg.tickets_booked }}</td>
        <td>{{ reg.total_price }}</td>
        <td>
          {% if reg.status == 'pending' %}
            <span class="badge bg-warning">Pending</span>
          {% elif reg.status == 'complete' %}
            <span class="badge bg-success">Approved</span>
          {% elif reg.status == 'rejected' %}
            <span class="badge bg-danger">Rejected</span>
          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="6" class="text-center text-muted">No registrations yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
